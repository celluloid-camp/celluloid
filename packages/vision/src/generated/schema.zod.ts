/**
 * Generated by orval v7.10.0 üç∫
 * Do not edit manually.
 * Celluloid Video Analysis API
 * OpenAPI spec version: 1.0.9
 */
import { z as zod } from "zod";

/**
 * Health check endpoint
 * @summary Health Check
 */
export const healthCheckHealthGetResponse = zod.object({
  status: zod.string(),
  timestamp: zod.string(),
  queue_size: zod.number(),
  processing_jobs: zod.number(),
  current_job: zod.string().or(zod.null()),
});

/**
 * Start video analysis on a video
 * @summary Analyse a video
 */
export const startDetectionAnalysePostBodySimilarityThresholdDefault = 0.5;
export const startDetectionAnalysePostBodySimilarityThresholdMin = 0;

export const startDetectionAnalysePostBodySimilarityThresholdMax = 1;

export const startDetectionAnalysePostBody = zod.object({
  project_id: zod.string().describe("Project identifier"),
  video_url: zod.string().describe("URL or path to video file"),
  similarity_threshold: zod
    .number()
    .min(startDetectionAnalysePostBodySimilarityThresholdMin)
    .max(startDetectionAnalysePostBodySimilarityThresholdMax)
    .default(startDetectionAnalysePostBodySimilarityThresholdDefault)
    .describe("Similarity threshold for object tracking"),
  callback_url: zod
    .string()
    .or(zod.null())
    .optional()
    .describe("Callback URL for job completion notifications"),
});

/**
 * Get the status of a detection job
 * @summary Get the status of a detection job
 */
export const getJobStatusStatusJobIdGetParams = zod.object({
  job_id: zod.string(),
});

export const getJobStatusStatusJobIdGetResponse = zod.object({
  job_id: zod.string(),
  project_id: zod.string(),
  video_url: zod.string(),
  similarity_threshold: zod.number(),
  status: zod.string(),
  progress: zod.number(),
  queue_position: zod.number().or(zod.null()),
  estimated_wait_time: zod.string().or(zod.null()),
  start_time: zod.string().or(zod.null()),
  end_time: zod.string().or(zod.null()),
  result_path: zod.string().or(zod.null()),
  metadata: zod.record(zod.string(), zod.any()).or(zod.null()),
  error_message: zod.string().or(zod.null()),
});

/**
 * Get the results of a completed detection job
 * @summary Get the results of a completed detection job
 */
export const getJobResultsResultsJobIdGetParams = zod.object({
  job_id: zod.string(),
});

export const getJobResultsResultsJobIdGetResponse = zod.object({
  version: zod.string(),
  metadata: zod.object({
    video: zod.object({
      fps: zod.number(),
      frame_count: zod.number(),
      width: zod.number(),
      height: zod.number(),
      source: zod.string(),
    }),
    model: zod.object({
      name: zod.string(),
      type: zod.string(),
      version: zod.string(),
    }),
    sprite: zod.object({
      path: zod.string(),
      thumbnail_size: zod.array(zod.number()),
    }),
    processing: zod.object({
      start_time: zod.string().or(zod.null()).optional(),
      end_time: zod.string().or(zod.null()).optional(),
      duration_seconds: zod.number().or(zod.null()).optional(),
      frames_processed: zod.number().or(zod.null()).optional(),
      frames_with_detections: zod.number().or(zod.null()).optional(),
      processing_speed: zod.number().or(zod.null()).optional(),
      detection_statistics: zod
        .object({
          total_detections: zod.number().or(zod.null()).optional(),
          person_detections: zod.number().or(zod.null()).optional(),
          person_with_face: zod.number().or(zod.null()).optional(),
          person_without_face: zod.number().or(zod.null()).optional(),
          other_detections: zod.number().or(zod.null()).optional(),
          class_counts: zod
            .record(zod.string(), zod.number())
            .or(zod.null())
            .optional(),
        })
        .or(zod.null())
        .optional(),
    }),
  }),
  frames: zod.array(
    zod.object({
      frame_idx: zod.number(),
      timestamp: zod.number(),
      objects: zod.array(
        zod.object({
          id: zod.string(),
          class_name: zod.string(),
          confidence: zod.number(),
          bbox: zod.object({
            x: zod.number(),
            y: zod.number(),
            width: zod.number(),
            height: zod.number(),
          }),
          thumbnail: zod.string(),
        }),
      ),
    }),
  ),
});
