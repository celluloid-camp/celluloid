/**
 * Generated by orval v7.10.0 ðŸº
 * Do not edit manually.
 * Celluloid Video Analysis API
 * OpenAPI spec version: 1.0.9
 */
import type {
  AnalysisRequest,
  AnalysisResponse,
  DetectionResultsModel,
  HealthResponse,
  HTTPValidationError,
  JobStatusResponse,
} from "./models";

/**
 * Health check endpoint
 * @summary Health Check
 */
export type healthCheckHealthGetResponse200 = {
  data: HealthResponse;
  status: 200;
};

export type healthCheckHealthGetResponseComposite =
  healthCheckHealthGetResponse200;

export type healthCheckHealthGetResponse =
  healthCheckHealthGetResponseComposite & {
    headers: Headers;
  };

export const getHealthCheckHealthGetUrl = () => {
  return `https://vision.celluloid.me/health`;
};

export const healthCheckHealthGet = async (
  options?: RequestInit,
): Promise<healthCheckHealthGetResponse> => {
  const res = await fetch(getHealthCheckHealthGetUrl(), {
    ...options,
    method: "GET",
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();
  const data: healthCheckHealthGetResponse["data"] = body
    ? JSON.parse(body)
    : {};

  return {
    data,
    status: res.status,
    headers: res.headers,
  } as healthCheckHealthGetResponse;
};

/**
 * Start video analysis on a video
 * @summary Analyse a video
 */
export type startDetectionAnalysePostResponse202 = {
  data: AnalysisResponse;
  status: 202;
};

export type startDetectionAnalysePostResponse422 = {
  data: HTTPValidationError;
  status: 422;
};

export type startDetectionAnalysePostResponseComposite =
  | startDetectionAnalysePostResponse202
  | startDetectionAnalysePostResponse422;

export type startDetectionAnalysePostResponse =
  startDetectionAnalysePostResponseComposite & {
    headers: Headers;
  };

export const getStartDetectionAnalysePostUrl = () => {
  return `https://vision.celluloid.me/analyse`;
};

export const startDetectionAnalysePost = async (
  analysisRequest: AnalysisRequest,
  options?: RequestInit,
): Promise<startDetectionAnalysePostResponse> => {
  const res = await fetch(getStartDetectionAnalysePostUrl(), {
    ...options,
    method: "POST",
    headers: { "Content-Type": "application/json", ...options?.headers },
    body: JSON.stringify(analysisRequest),
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();
  const data: startDetectionAnalysePostResponse["data"] = body
    ? JSON.parse(body)
    : {};

  return {
    data,
    status: res.status,
    headers: res.headers,
  } as startDetectionAnalysePostResponse;
};

/**
 * Get the status of a detection job
 * @summary Get the status of a detection job
 */
export type getJobStatusStatusJobIdGetResponse200 = {
  data: JobStatusResponse;
  status: 200;
};

export type getJobStatusStatusJobIdGetResponse422 = {
  data: HTTPValidationError;
  status: 422;
};

export type getJobStatusStatusJobIdGetResponseComposite =
  | getJobStatusStatusJobIdGetResponse200
  | getJobStatusStatusJobIdGetResponse422;

export type getJobStatusStatusJobIdGetResponse =
  getJobStatusStatusJobIdGetResponseComposite & {
    headers: Headers;
  };

export const getGetJobStatusStatusJobIdGetUrl = (jobId: string) => {
  return `https://vision.celluloid.me/status/${jobId}`;
};

export const getJobStatusStatusJobIdGet = async (
  jobId: string,
  options?: RequestInit,
): Promise<getJobStatusStatusJobIdGetResponse> => {
  const res = await fetch(getGetJobStatusStatusJobIdGetUrl(jobId), {
    ...options,
    method: "GET",
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();
  const data: getJobStatusStatusJobIdGetResponse["data"] = body
    ? JSON.parse(body)
    : {};

  return {
    data,
    status: res.status,
    headers: res.headers,
  } as getJobStatusStatusJobIdGetResponse;
};

/**
 * Get the results of a completed detection job
 * @summary Get the results of a completed detection job
 */
export type getJobResultsResultsJobIdGetResponse200 = {
  data: DetectionResultsModel;
  status: 200;
};

export type getJobResultsResultsJobIdGetResponse422 = {
  data: HTTPValidationError;
  status: 422;
};

export type getJobResultsResultsJobIdGetResponseComposite =
  | getJobResultsResultsJobIdGetResponse200
  | getJobResultsResultsJobIdGetResponse422;

export type getJobResultsResultsJobIdGetResponse =
  getJobResultsResultsJobIdGetResponseComposite & {
    headers: Headers;
  };

export const getGetJobResultsResultsJobIdGetUrl = (jobId: string) => {
  return `https://vision.celluloid.me/results/${jobId}`;
};

export const getJobResultsResultsJobIdGet = async (
  jobId: string,
  options?: RequestInit,
): Promise<getJobResultsResultsJobIdGetResponse> => {
  const res = await fetch(getGetJobResultsResultsJobIdGetUrl(jobId), {
    ...options,
    method: "GET",
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();
  const data: getJobResultsResultsJobIdGetResponse["data"] = body
    ? JSON.parse(body)
    : {};

  return {
    data,
    status: res.status,
    headers: res.headers,
  } as getJobResultsResultsJobIdGetResponse;
};
